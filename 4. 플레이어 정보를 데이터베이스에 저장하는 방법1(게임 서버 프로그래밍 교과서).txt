플레이어 정보를 데이터베이스에 저장하는 방법1

플레이어 데이터는 다양한 형태의 데이터 구조로 되어 있습니다.
최상위에는 ID, 암호화된 비밀번호, 실제 이름 같은 플레이어 자신의 정보가 들어 있습니다.
그 밑에는 플레이어가 가진 플레이어 캐릭터가 하나 이상 있겠죠. 플레이어 캐릭터의 이름과 플레이어의 종족,
레벨, 기타 능력치 등이 있을 것입니다. 플레이어 캐릭터 밑에는 플레이어가 소지한 아이템을 하나 이상 가지고 있을 것입니다.
그리고 아이템의 종류, 개수, 여러 가지 속성 등이 있을 것입니다. 즉, 플레이어 데이터는 구조체와 목록의 집합입니다.

이 절에서는 구조체형 데이터를 테이블에 저장하는 방법을 알아봅니다.
구조체와 목록에 집합 형태로 되어 있는 데이터 덩그리는 그림 7-13과 같이 트리 형태로 표현 가능합니다.

그러면 이를 데이터베이스에 저장하려면 어떻게 해야 할까요?
데이터를 저장하는 방법은 여러 가지가 있는데, 여기서는 다음 두 가지를 살펴봅니다.
1. 플레이어 데이터 전체를 문서 형태로 만들어서 테이블에 넣습니다.
2. 플레이어 데이터를 구성하는 트리 노드 각각을 테이블에 넣습니다.

두 방법 모두 장단점이 있습니다. 쉬운 첫 번째 방법부터 살펴봅니다.
플레이어 데이터를 문서 형태로만들면 JSON(JavaScript Object Notation) 문서 형태로 나옵니다.
JSON 문서는 트리 구조의 데이터를 문자열 형태로 표현하며,
트리의 각 노드는 속성을 여러 개 저장할 수 있습니다. 여기서 말하는 속성이란 이름과 값의 짝을 의미합니다.
예를 들어 다음과 같이 표시됩니다.
{
	"ID" : "Hong Gil Dong",
	"email" : "gildong@foofoomail.com",
	"password" : "xxiuhwdqwddwdwafd",
	"Characters": [
	  {
	     "ID" : "Little Elf",
	     "Gender" : "Female",
	     "Level" : 35,
	     "Items" : [
		{
		   "Type" : 123,
		   "Amount" : 1
		}
	       ]
	  },
	  {
	      "ID" : "Big Orc",
	      "Gender" : "Male",
	      "Level" : 23,
	      "Items" : [ ]
 	  }
	]
           }

플레이어 정보를 이렇게 JSON 형태 하나로 만든 후 테이블에 저장합니다. 플레이어 ID와 플레이어의 JSON
텍스트를 담을 필드면 됩니다.
